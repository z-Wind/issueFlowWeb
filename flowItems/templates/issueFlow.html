{% extends 'base.html' %}
{% load staticfiles %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'manual/flowChart.css' %}">
{% endblock %}

{% block issueFlow %}
    {% if first_id == '' %}
    <div style="text-align:center;"><h1 class="errorlist">請搜尋，並指定起始節點 或 回溯</h1></div>
    {% endif %}
    <div class="jumbotron" style="padding-top: 2px; padding-bottom: 2px;">
        <div id="id_main" class="row text-center">
        </div>
        <div>
            <input type="button" class="btn btn-success" value="記錄" onclick="saveData()">
            <span class="file-input btn btn-primary btn-file">
                回溯
                <input type="file" id="callback" accept=".csv" >
            <span>
        </div>
    </div>
    <div id="id_form" style="display:none; position:absolute; background:white;">
        <div></div>
        <form id="id_node_form" action="" method="post" onsubmit="return false">
            <table class="table table-bordered">
                {{f.as_table}}
            </table>
            <input class="btn btn-default" type="button" value="新增">
            <input class="btn btn-default" type="button" value="更名">
            <input class="btn btn-default" type="reset" value="取消">
        </form>
        <div id="id_itemList">
            <table style="width: 150px">
                <tr>
                    <td>
                        <select size=24 id="id_itemListSel">
                        </select>
                    </td>
                </tr>
            </table>
        </div>
    </div>
{% endblock %}
{% block script %}
    <script src="{% static 'd3/d3.min.js' %}"></script>
    <script src="{% static 'manual/flowChart.js' %}"></script>
    <script src="{% static 'manual/issueFlow.js' %}"></script>
    <script>
        var csrf = {name:'csrfmiddlewaretoken', value: '{{ csrf_token }}'};
        var first_id = {% if first_id %}{{first_id}}{% else %}""{% endif %};
    </script>
{% endblock %}
